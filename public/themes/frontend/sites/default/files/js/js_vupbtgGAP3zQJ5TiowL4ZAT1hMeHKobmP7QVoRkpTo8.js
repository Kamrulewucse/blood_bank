/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery-once/jquery.once.min.js. */
/*!
 * jQuery Once v2.2.3 - http://github.com/robloach/jquery-once
 * @license MIT, GPL-2.0
 *   http://opensource.org/licenses/MIT
 *   http://opensource.org/licenses/GPL-2.0
 */
(function(e){"use strict";if(typeof exports==="object"&&typeof exports.nodeName!=="string"){e(require("jquery"))}else if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(t){"use strict";var r=function(e){e=e||"once";if(typeof e!=="string"){throw new TypeError("The jQuery Once id parameter must be a string")}return e};t.fn.once=function(e){var n="jquery-once-"+r(e);return this.filter(function(){return t(this).data(n)!==true}).data(n,true)};t.fn.removeOnce=function(e){return this.findOnce(e).removeData("jquery-once-"+r(e))};t.fn.findOnce=function(e){var n="jquery-once-"+r(e);return this.filter(function(){return t(this).data(n)===true})}});

/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery-once/jquery.once.min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/misc/drupalSettingsLoader.js. */
(function(){var t=document.querySelector('head > script[type="application/json"][data-drupal-selector="drupal-settings-json"], body > script[type="application/json"][data-drupal-selector="drupal-settings-json"]');window.drupalSettings={};if(t!==null){window.drupalSettings=JSON.parse(t.textContent)}})();
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/misc/drupalSettingsLoader.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/misc/drupal.js. */
;window.Drupal={behaviors:{},locale:{}};(function(t,e,r,n,o,a){t.throwError=function(t){setTimeout(function(){throw t},0)};t.attachBehaviors=function(r,n){r=r||document;n=n||e;var o=t.behaviors;Object.keys(o||{}).forEach(function(e){if(typeof o[e].attach==='function'){try{o[e].attach(r,n)}catch(a){t.throwError(a)}}})};t.detachBehaviors=function(r,n,o){r=r||document;n=n||e;o=o||'unload';var a=t.behaviors;Object.keys(a||{}).forEach(function(e){if(typeof a[e].detach==='function'){try{a[e].detach(r,n,o)}catch(c){t.throwError(c)}}})};t.checkPlain=function(t){t=t.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');return t};t.formatString=function(e,r){var n={};Object.keys(r||{}).forEach(function(e){switch(e.charAt(0)){case'@':n[e]=t.checkPlain(r[e]);break;case'!':n[e]=r[e];break;default:n[e]=t.theme('placeholder',r[e]);break}});return t.stringReplace(e,n,null)};t.stringReplace=function(e,r,n){if(e.length===0){return e};if(!Array.isArray(n)){n=Object.keys(r||{});n.sort(function(t,e){return t.length-e.length})};if(n.length===0){return e};var c=n.pop(),a=e.split(c);if(n.length){for(var o=0;o<a.length;o++){a[o]=t.stringReplace(a[o],r,n.slice(0))}};return a.join(r[c])};t.t=function(e,o,n){n=n||{};n.context=n.context||'';if(typeof r!=='undefined'&&r.strings&&r.strings[n.context]&&r.strings[n.context][e]){e=r.strings[n.context][e]};if(o){e=t.formatString(e,o)};return e};t.url=function(t){return e.path.baseUrl+e.path.pathPrefix+t};t.url.toAbsolute=function(t){var r=document.createElement('a');try{t=decodeURIComponent(t)}catch(e){};r.setAttribute('href',t);return r.cloneNode(!1).href};t.url.isLocal=function(r){var n=t.url.toAbsolute(r),c=window.location.protocol;if(c==='http:'&&n.indexOf('https:')===0){c='https:'};var o=c+'//'+window.location.host+e.path.baseUrl.slice(0,-1);try{n=decodeURIComponent(n)}catch(a){};try{o=decodeURIComponent(o)}catch(a){};return n===o||n.indexOf(o+'/')===0};t.formatPlural=function(n,o,c,a,u){a=a||{};a['@count']=n;var l=e.pluralDelimiter,f=t.t(o+l+c,a,u).split(l),i=0;if(typeof r!=='undefined'&&r.pluralFormula){i=n in r.pluralFormula?r.pluralFormula[n]:r.pluralFormula.default}
else if(a['@count']!==1){i=1};return f[i]};t.encodePath=function(t){return window.encodeURIComponent(t).replace(/%2F/g,'/')};t.deprecationError=function(t){var r=t.message;if(e.suppressDeprecationErrors===!1&&typeof n!=='undefined'&&n.warn){n.warn('[Deprecation] '+r)}};t.deprecatedProperty=function(e){var r=e.target,n=e.deprecatedProperty,c=e.message;if(!o||!a){return r};return new o(r,{get:function(e,r){for(var i=arguments.length,u=Array(i>2?i-2:0),o=2;o<i;o++){u[o-2]=arguments[o]};if(r===n){t.deprecationError({message:c})};return a.get.apply(a,[e,r].concat(u))}})};t.theme=function(e){if(e in t.theme){var a;for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++){o[r-1]=arguments[r]};return(a=t.theme)[e].apply(a,o)}};t.theme.placeholder=function(e){return'<em class="placeholder">'+t.checkPlain(e)+'</em>'}})(Drupal,window.drupalSettings,window.drupalTranslations,window.console,window.Proxy,window.Reflect);
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/misc/drupal.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/misc/drupal.init.js. */
;if(window.jQuery){jQuery.noConflict()};document.documentElement.className+=' js';(function(e,n){var t=function(e){if(document.readyState!=='loading'){e()}
else{var n=function t(){e();document.removeEventListener('DOMContentLoaded',t)};document.addEventListener('DOMContentLoaded',n)}};t(function(){e.attachBehaviors(document,n)})})(Drupal,window.drupalSettings);
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/misc/drupal.init.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/data-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}})});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/data-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/disable-selection-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/disable-selection-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/form-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):a(this[0].form)}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/form-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/labels-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],a):a(jQuery)}(function(a){return a.fn.labels=function(){var b,c,d,e,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),d=this.attr("id"),d&&(b=this.eq(0).parents().last(),f=b.add(b.length?b.siblings():this.siblings()),c="label[for='"+a.ui.escapeSelector(d)+"']",e=e.add(f.find(c).addBack(c))),this.pushStack(e))}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/labels-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/jquery-1-7-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))})});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/jquery-1-7-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/scroll-parent-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.scrollParent=function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/scroll-parent-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/tabbable-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],a):a(jQuery)}(function(a){return a.extend(a.expr[":"],{tabbable:function(b){var c=a.attr(b,"tabindex"),d=null!=c;return(!d||c>=0)&&a.ui.focusable(b,d)}})});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/tabbable-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/unique-id-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}})});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/unique-id-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/version-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){return a.ui=a.ui||{},a.ui.version="1.12.1"});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/version-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/escape-selector-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.escapeSelector=function(){var a=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}()});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/escape-selector-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/focusable-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){function b(a){for(var b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");return"hidden"!==b}return a.ui.focusable=function(c,d){var e,f,g,h,i,j=c.nodeName.toLowerCase();return"area"===j?(e=c.parentNode,f=e.name,!(!c.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']"),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(j)?(h=!c.disabled,h&&(i=a(c).closest("fieldset")[0],i&&(h=!i.disabled))):h="a"===j?c.href||d:d,h&&a(c).is(":visible")&&b(a(c)))},a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}}),a.ui.focusable});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/focusable-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/keycode-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/keycode-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/plugin-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/plugin-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/safe-active-element-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(c){b=a.body}return b||(b=a.body),b.nodeName||(b=a.body),b}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/safe-active-element-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/safe-blur-min.js. */
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.safeBlur=function(b){b&&"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")}});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/jquery.ui/ui/safe-blur-min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/assets/vendor/picturefill/picturefill.min.js. */
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
!function(a){var b=navigator.userAgent;a.HTMLPictureElement&&/ecko/.test(b)&&b.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var b,c=document.createElement("source"),d=function(a){var b,d,e=a.parentNode;"PICTURE"===e.nodeName.toUpperCase()?(b=c.cloneNode(),e.insertBefore(b,e.firstElementChild),setTimeout(function(){e.removeChild(b)})):(!a._pfLastSize||a.offsetWidth>a._pfLastSize)&&(a._pfLastSize=a.offsetWidth,d=a.sizes,a.sizes+=",100vw",setTimeout(function(){a.sizes=d}))},e=function(){var a,b=document.querySelectorAll("picture > img, img[srcset][sizes]");for(a=0;a<b.length;a++)d(b[a])},f=function(){clearTimeout(b),b=setTimeout(e,99)},g=a.matchMedia&&matchMedia("(orientation: landscape)"),h=function(){f(),g&&g.addListener&&g.addListener(f)};return c.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?h():document.addEventListener("DOMContentLoaded",h),f}())}(window),function(a,b,c){"use strict";function d(a){return" "===a||"	"===a||"\n"===a||"\f"===a||"\r"===a}function e(b,c){var d=new a.Image;return d.onerror=function(){A[b]=!1,ba()},d.onload=function(){A[b]=1===d.width,ba()},d.src=c,"pending"}function f(){M=!1,P=a.devicePixelRatio,N={},O={},s.DPR=P||1,Q.width=Math.max(a.innerWidth||0,z.clientWidth),Q.height=Math.max(a.innerHeight||0,z.clientHeight),Q.vw=Q.width/100,Q.vh=Q.height/100,r=[Q.height,Q.width,P].join("-"),Q.em=s.getEmValue(),Q.rem=Q.em}function g(a,b,c,d){var e,f,g,h;return"saveData"===B.algorithm?a>2.7?h=c+1:(f=b-c,e=Math.pow(a-.6,1.5),g=f*e,d&&(g+=.1*e),h=a+g):h=c>1?Math.sqrt(a*b):a,h>c}function h(a){var b,c=s.getSet(a),d=!1;"pending"!==c&&(d=r,c&&(b=s.setRes(c),s.applySetCandidate(b,a))),a[s.ns].evaled=d}function i(a,b){return a.res-b.res}function j(a,b,c){var d;return!c&&b&&(c=a[s.ns].sets,c=c&&c[c.length-1]),d=k(b,c),d&&(b=s.makeUrl(b),a[s.ns].curSrc=b,a[s.ns].curCan=d,d.res||aa(d,d.set.sizes)),d}function k(a,b){var c,d,e;if(a&&b)for(e=s.parseSet(b),a=s.makeUrl(a),c=0;c<e.length;c++)if(a===s.makeUrl(e[c].url)){d=e[c];break}return d}function l(a,b){var c,d,e,f,g=a.getElementsByTagName("source");for(c=0,d=g.length;d>c;c++)e=g[c],e[s.ns]=!0,f=e.getAttribute("srcset"),f&&b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")})}function m(a,b){function c(b){var c,d=b.exec(a.substring(m));return d?(c=d[0],m+=c.length,c):void 0}function e(){var a,c,d,e,f,i,j,k,l,m=!1,o={};for(e=0;e<h.length;e++)f=h[e],i=f[f.length-1],j=f.substring(0,f.length-1),k=parseInt(j,10),l=parseFloat(j),X.test(j)&&"w"===i?((a||c)&&(m=!0),0===k?m=!0:a=k):Y.test(j)&&"x"===i?((a||c||d)&&(m=!0),0>l?m=!0:c=l):X.test(j)&&"h"===i?((d||c)&&(m=!0),0===k?m=!0:d=k):m=!0;m||(o.url=g,a&&(o.w=a),c&&(o.d=c),d&&(o.h=d),d||c||a||(o.d=1),1===o.d&&(b.has1x=!0),o.set=b,n.push(o))}function f(){for(c(T),i="",j="in descriptor";;){if(k=a.charAt(m),"in descriptor"===j)if(d(k))i&&(h.push(i),i="",j="after descriptor");else{if(","===k)return m+=1,i&&h.push(i),void e();if("("===k)i+=k,j="in parens";else{if(""===k)return i&&h.push(i),void e();i+=k}}else if("in parens"===j)if(")"===k)i+=k,j="in descriptor";else{if(""===k)return h.push(i),void e();i+=k}else if("after descriptor"===j)if(d(k));else{if(""===k)return void e();j="in descriptor",m-=1}m+=1}}for(var g,h,i,j,k,l=a.length,m=0,n=[];;){if(c(U),m>=l)return n;g=c(V),h=[],","===g.slice(-1)?(g=g.replace(W,""),e()):f()}}function n(a){function b(a){function b(){f&&(g.push(f),f="")}function c(){g[0]&&(h.push(g),g=[])}for(var e,f="",g=[],h=[],i=0,j=0,k=!1;;){if(e=a.charAt(j),""===e)return b(),c(),h;if(k){if("*"===e&&"/"===a[j+1]){k=!1,j+=2,b();continue}j+=1}else{if(d(e)){if(a.charAt(j-1)&&d(a.charAt(j-1))||!f){j+=1;continue}if(0===i){b(),j+=1;continue}e=" "}else if("("===e)i+=1;else if(")"===e)i-=1;else{if(","===e){b(),c(),j+=1;continue}if("/"===e&&"*"===a.charAt(j+1)){k=!0,j+=2;continue}}f+=e,j+=1}}}function c(a){return k.test(a)&&parseFloat(a)>=0?!0:l.test(a)?!0:"0"===a||"-0"===a||"+0"===a?!0:!1}var e,f,g,h,i,j,k=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(f=b(a),g=f.length,e=0;g>e;e++)if(h=f[e],i=h[h.length-1],c(i)){if(j=i,h.pop(),0===h.length)return j;if(h=h.join(" "),s.matchesMedia(h))return j}return"100vw"}b.createElement("picture");var o,p,q,r,s={},t=!1,u=function(){},v=b.createElement("img"),w=v.getAttribute,x=v.setAttribute,y=v.removeAttribute,z=b.documentElement,A={},B={algorithm:""},C="data-pfsrc",D=C+"set",E=navigator.userAgent,F=/rident/.test(E)||/ecko/.test(E)&&E.match(/rv\:(\d+)/)&&RegExp.$1>35,G="currentSrc",H=/\s+\+?\d+(e\d+)?w/,I=/(\([^)]+\))?\s*(.+)/,J=a.picturefillCFG,K="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",L="font-size:100%!important;",M=!0,N={},O={},P=a.devicePixelRatio,Q={px:1,"in":96},R=b.createElement("a"),S=!1,T=/^[ \t\n\r\u000c]+/,U=/^[, \t\n\r\u000c]+/,V=/^[^ \t\n\r\u000c]+/,W=/[,]+$/,X=/^\d+$/,Y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Z=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},$=function(a){var b={};return function(c){return c in b||(b[c]=a(c)),b[c]}},_=function(){var a=/^([\d\.]+)(em|vw|px)$/,b=function(){for(var a=arguments,b=0,c=a[0];++b in a;)c=c.replace(a[b],a[++b]);return c},c=$(function(a){return"return "+b((a||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(b,d){var e;if(!(b in N))if(N[b]=!1,d&&(e=b.match(a)))N[b]=e[1]*Q[e[2]];else try{N[b]=new Function("e",c(b))(Q)}catch(f){}return N[b]}}(),aa=function(a,b){return a.w?(a.cWidth=s.calcListLength(b||"100vw"),a.res=a.w/a.cWidth):a.res=a.d,a},ba=function(a){if(t){var c,d,e,f=a||{};if(f.elements&&1===f.elements.nodeType&&("IMG"===f.elements.nodeName.toUpperCase()?f.elements=[f.elements]:(f.context=f.elements,f.elements=null)),c=f.elements||s.qsa(f.context||b,f.reevaluate||f.reselect?s.sel:s.selShort),e=c.length){for(s.setupRun(f),S=!0,d=0;e>d;d++)s.fillImg(c[d],f);s.teardownRun(f)}}};o=a.console&&console.warn?function(a){console.warn(a)}:u,G in v||(G="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),s.ns=("pf"+(new Date).getTime()).substr(0,9),s.supSrcset="srcset"in v,s.supSizes="sizes"in v,s.supPicture=!!a.HTMLPictureElement,s.supSrcset&&s.supPicture&&!s.supSizes&&!function(a){v.srcset="data:,a",a.src="data:,a",s.supSrcset=v.complete===a.complete,s.supPicture=s.supSrcset&&s.supPicture}(b.createElement("img")),s.supSrcset&&!s.supSizes?!function(){var a="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",c="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d=b.createElement("img"),e=function(){var a=d.width;2===a&&(s.supSizes=!0),q=s.supSrcset&&!s.supSizes,t=!0,setTimeout(ba)};d.onload=e,d.onerror=e,d.setAttribute("sizes","9px"),d.srcset=c+" 1w,"+a+" 9w",d.src=c}():t=!0,s.selShort="picture>img,img[srcset]",s.sel=s.selShort,s.cfg=B,s.DPR=P||1,s.u=Q,s.types=A,s.setSize=u,s.makeUrl=$(function(a){return R.href=a,R.href}),s.qsa=function(a,b){return"querySelector"in a?a.querySelectorAll(b):[]},s.matchesMedia=function(){return a.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?s.matchesMedia=function(a){return!a||matchMedia(a).matches}:s.matchesMedia=s.mMQ,s.matchesMedia.apply(this,arguments)},s.mMQ=function(a){return a?_(a):!0},s.calcLength=function(a){var b=_(a,!0)||!1;return 0>b&&(b=!1),b},s.supportsType=function(a){return a?A[a]:!0},s.parseSize=$(function(a){var b=(a||"").match(I);return{media:b&&b[1],length:b&&b[2]}}),s.parseSet=function(a){return a.cands||(a.cands=m(a.srcset,a)),a.cands},s.getEmValue=function(){var a;if(!p&&(a=b.body)){var c=b.createElement("div"),d=z.style.cssText,e=a.style.cssText;c.style.cssText=K,z.style.cssText=L,a.style.cssText=L,a.appendChild(c),p=c.offsetWidth,a.removeChild(c),p=parseFloat(p,10),z.style.cssText=d,a.style.cssText=e}return p||16},s.calcListLength=function(a){if(!(a in O)||B.uT){var b=s.calcLength(n(a));O[a]=b?b:Q.width}return O[a]},s.setRes=function(a){var b;if(a){b=s.parseSet(a);for(var c=0,d=b.length;d>c;c++)aa(b[c],a.sizes)}return b},s.setRes.res=aa,s.applySetCandidate=function(a,b){if(a.length){var c,d,e,f,h,k,l,m,n,o=b[s.ns],p=s.DPR;if(k=o.curSrc||b[G],l=o.curCan||j(b,k,a[0].set),l&&l.set===a[0].set&&(n=F&&!b.complete&&l.res-.1>p,n||(l.cached=!0,l.res>=p&&(h=l))),!h)for(a.sort(i),f=a.length,h=a[f-1],d=0;f>d;d++)if(c=a[d],c.res>=p){e=d-1,h=a[e]&&(n||k!==s.makeUrl(c.url))&&g(a[e].res,c.res,p,a[e].cached)?a[e]:c;break}h&&(m=s.makeUrl(h.url),o.curSrc=m,o.curCan=h,m!==k&&s.setSrc(b,h),s.setSize(b))}},s.setSrc=function(a,b){var c;a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c))},s.getSet=function(a){var b,c,d,e=!1,f=a[s.ns].sets;for(b=0;b<f.length&&!e;b++)if(c=f[b],c.srcset&&s.matchesMedia(c.media)&&(d=s.supportsType(c.type))){"pending"===d&&(c=d),e=c;break}return e},s.parseSets=function(a,b,d){var e,f,g,h,i=b&&"PICTURE"===b.nodeName.toUpperCase(),j=a[s.ns];(j.src===c||d.src)&&(j.src=w.call(a,"src"),j.src?x.call(a,C,j.src):y.call(a,C)),(j.srcset===c||d.srcset||!s.supSrcset||a.srcset)&&(e=w.call(a,"srcset"),j.srcset=e,h=!0),j.sets=[],i&&(j.pic=!0,l(b,j.sets)),j.srcset?(f={srcset:j.srcset,sizes:w.call(a,"sizes")},j.sets.push(f),g=(q||j.src)&&H.test(j.srcset||""),g||!j.src||k(j.src,f)||f.has1x||(f.srcset+=", "+j.src,f.cands.push({url:j.src,d:1,set:f}))):j.src&&j.sets.push({srcset:j.src,sizes:null}),j.curCan=null,j.curSrc=c,j.supported=!(i||f&&!s.supSrcset||g&&!s.supSizes),h&&s.supSrcset&&!j.supported&&(e?(x.call(a,D,e),a.srcset=""):y.call(a,D)),j.supported&&!j.srcset&&(!j.src&&a.src||a.src!==s.makeUrl(j.src))&&(null===j.src?a.removeAttribute("src"):a.src=j.src),j.parsed=!0},s.fillImg=function(a,b){var c,d=b.reselect||b.reevaluate;a[s.ns]||(a[s.ns]={}),c=a[s.ns],(d||c.evaled!==r)&&((!c.parsed||b.reevaluate)&&s.parseSets(a,a.parentNode,b),c.supported?c.evaled=r:h(a))},s.setupRun=function(){(!S||M||P!==a.devicePixelRatio)&&f()},s.supPicture?(ba=u,s.fillImg=u):!function(){var c,d=a.attachEvent?/d$|^c/:/d$|^c|^i/,e=function(){var a=b.readyState||"";f=setTimeout(e,"loading"===a?200:999),b.body&&(s.fillImgs(),c=c||d.test(a),c&&clearTimeout(f))},f=setTimeout(e,b.body?9:99),g=function(a,b){var c,d,e=function(){var f=new Date-d;b>f?c=setTimeout(e,b-f):(c=null,a())};return function(){d=new Date,c||(c=setTimeout(e,b))}},h=z.clientHeight,i=function(){M=Math.max(a.innerWidth||0,z.clientWidth)!==Q.width||z.clientHeight!==h,h=z.clientHeight,M&&s.fillImgs()};Z(a,"resize",g(i,99)),Z(b,"readystatechange",e)}(),s.picturefill=ba,s.fillImgs=ba,s.teardownRun=u,ba._=s,a.picturefillCFG={pf:s,push:function(a){var b=a.shift();"function"==typeof s[b]?s[b].apply(s,a):(B[b]=a[0],S&&s.fillImgs({reselect:!0}))}};for(;J&&J.length;)a.picturefillCFG.push(J.shift());a.picturefill=ba,"object"==typeof module&&"object"==typeof module.exports?module.exports=ba:"function"==typeof define&&define.amd&&define("picturefill",function(){return ba}),s.supPicture||(A["image/webp"]=e("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/assets/vendor/picturefill/picturefill.min.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/modules/contrib/blazy/js/dblazy.js. */
(function(t,e){'use strict';if(typeof define==='function'&&define.amd){define([],e)}
else if(typeof exports==='object'){module.exports=e()}
else{t.dBlazy=e()}})(this,function(){'use strict';var t={};if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector};t.matches=function(t,e){if(t.matches(e)){return!0};return!1};t.pixelRatio=function(){return window.devicePixelRatio||1};t.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||window.screen.width};t.windowSize=function(){return{width:this.windowWidth,height:window.innerHeight}};t.activeWidth=function(t,e){var i=this,n=Object.keys(t),s=n[0],o=n[n.length-1],c=(i.windowWidth()*i.pixelRatio()),r=e?i.windowWidth():c,u=function(t){return e?parseInt(t)<=r:parseInt(t)>=r},a=n.filter(u).map(function(e){return t[e]})[e?'pop':'shift']();return typeof a==='undefined'?t[r>=o?o:s]:a};t.equal=function(t,e){return t!==null&&t.nodeName.toLowerCase()===e};t.closest=function(t,e){var n;while(t){n=t.parentElement;if(n&&n.matches(e)){return n};t=n};return null};t.extend=Object.assign||function(t){t=t||{};for(var e=1,i=arguments.length;e<i;e++){if(!arguments[e]){continue};for(var n in arguments[e]){if(Object.prototype.hasOwnProperty.call(arguments[e],n)){t[n]=arguments[e][n]}}};return t};t.forEach=function(t,e,n){var o=Object.prototype;if(o.toString.call(t)==='[object Object]'){for(var r in t){if(o.hasOwnProperty.call(t,r)){e.call(n,t[r],r,t)}}}
else if(t){for(var i=0,a=t.length;i<a;i++){e.call(n,t[i],i,t)}}};t.hasClass=function(t,e){if(t.classList){return t.classList.contains(e)}
else{return t.className.indexOf(e)!==-1}};t.attr=function(t,e,n){n=n||'';return t!==null&&t.hasAttribute(e)?t.getAttribute(e):n};t.setAttr=function(t,e,n){if(t&&t.hasAttribute('data-'+e)){var i=t.getAttribute('data-'+e);if(e==='src'){t.src=i}
else{t.setAttribute(e,i)};if(n){t.removeAttribute('data-'+e)}}};t.setAttrs=function(t,e,n){var i=this;i.forEach(e,function(e){i.setAttr(t,e,n)})};t.setAttrsWithSources=function(t,e,n){var i=this,r=t.parentNode||null,o=r&&i.equal(r,'picture'),a=o?r.getElementsByTagName('source'):t.getElementsByTagName('source');e=e||(o?'srcset':'src');if(a.length){i.forEach(a,function(t){i.setAttr(t,e,n)})}};t.isDecoded=function(t){if('decoded' in t){return t.decoded};return t.complete};t.decode=function(t){var e=this;if(e.isDecoded(t)){return Promise.resolve(t)};if('decode' in t){return t.decode()};return new Promise(function(e,n){t.onload=function(){e(t)};t.onerror=n()})};t.updateBg=function(t,e){var i=this,r=i.parse(t.getAttribute('data-backgrounds'));if(r){var n=i.activeWidth(r,e);if(n&&n!=='undefined'){t.style.backgroundImage='url("'+n.src+'")';if(n.ratio&&!t.classList.contains('b-noratio')){t.style.paddingBottom=n.ratio+'%'}}}};t.removeAttrs=function(t,e){this.forEach(e,function(e){t.removeAttribute('data-'+e)})};t.binding=function(t,e,n,i,r){if(e&&typeof i==='function'){var s={capture:!1,passive:!0};var o;if(typeof r==='boolean'){o=r}
else{o=r?this.extend(s,r):s};var a=function(n){if(e.attachEvent){e[(t==='bind'?'attach':'detach')+'Event']('on'+n.trim(),i,o)}
else{e[(t==='bind'?'add':'remove')+'EventListener'](n.trim(),i,o)}};if(n.indexOf(' ')>0){this.forEach(n.split(' '),a)}
else{a(n)}}};t.onoff=function(e,n,i,r,o,a){a=a||{capture:!0,passive:!1};var s=function(e){var i=e.target;e.delegateTarget=n;while(i&&i!==this){if(t.matches(i,r)){o.call(i,e)};i=i.parentNode}};this.binding(e==='on'?'bind':'unbind',n,i,s,a)};t.on=function(t,e,n,i,r){this.onoff('on',t,e,n,i,r)};t.off=function(t,e,n,i,r){this.onoff('off',t,e,n,i,r)};t.bindEvent=function(t,e,n,i){this.binding('bind',t,e,n,i)};t.unbindEvent=function(t,e,n,i){this.binding('unbind',t,e,n,i)};t.once=function(t){var e,n=!1;return function(){if(n){return e};n=!0;e=t.apply(this,arguments);t=null;return e}};t.parse=function(t){try{return JSON.parse(t)}catch(e){return!1}};t.animate=function(t,e){var n=this,o=['animation','animation-duration','animation-delay','animation-iteration-count'];e=e||t.dataset.animation;t.classList.add('animated',e);n.forEach(['Duration','Delay','IterationCount'],function(e){if('animation'+e in t.dataset){t.style['animation'+e]=t.dataset['animation'+e]}});var r=n.closest(t,'.media');r=r===null?t:r;var i=r.querySelector('.b-blur--tmp');function a(){n.removeAttrs(t,o);t.classList.add('is-b-animated');t.classList.remove('animated',e);n.forEach(o,function(e){t.style.removeProperty(e)});if(i!==null&&i.parentNode!==null){i.parentNode.removeChild(i)};n.unbindEvent(t,'animationend',a)};n.bindEvent(t,'animationend',a)};t.clearLoading=function(t){var e=this,n=[t,e.closest(t,'[class*="loading"]')];this.forEach(n,function(t){if(t!==null){t.className=t.className.replace(/(\S+)loading/g,'')}})};t.throttle=function(t,e,n){var i=0;return function(){var r=+new Date();if(r-i<e){return};i=r;t.apply(n,arguments)}};t.resize=function(t,e){window.onresize=function(){window.clearTimeout(e);e=window.setTimeout(t,200)};return t};t.trigger=function(t,e,n,i){var r,o={detail:n||{}};if(typeof i==='undefined'){o.bubbles=!0;o.cancelable=!0};if(typeof window.CustomEvent==='function'){r=new CustomEvent(e,o)}
else{r=document.createEvent('CustomEvent');r.initCustomEvent(e,!0,!0,o)};t.dispatchEvent(r)};return t});
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/modules/contrib/blazy/js/dblazy.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/modules/contrib/blazy/js/blazy.filter.js. */
(function(a,t){'use strict';function e(e){var a=t.closest(e,'.text-formatted');if(a===null){a=t.closest(e,'.field')};if(a===null||a.classList.contains('blazy')){return};a.classList.add('blazy');a.setAttribute('data-blazy','');var l=a.querySelector('.litebox');if(l!==null){var r=l.getAttribute('data-media')?t.parse(l.getAttribute('data-media')):{};if('id' in r){var i=r.id;a.classList.add('blazy--'+i);a.setAttribute('data-'+i+'-gallery','')}}};a.behaviors.blazyFilter={attach:function(a){var l=a.querySelectorAll('.media-wrapper--blazy:not(.grid .media-wrapper--blazy)');if(l.length>0){t.once(t.forEach(l,e))}}}})(Drupal,dBlazy);
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/modules/contrib/blazy/js/blazy.filter.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/modules/contrib/blazy/js/blazy.load.js. */
(function(i,n,t,e,s){'use strict';var r='data-animation',l='data-dimensions',o='data-backgrounds',c='data-ratio',u=!1,a=0;i.blazy=i.blazy||{context:null,init:null,instances:[],items:[],windowWidth:0,blazySettings:n.blazy||{},ioSettings:n.blazyIo||{},revalidate:!1,options:{},globals:function(){var i=this,e={success:i.clearing.bind(i),error:i.clearing.bind(i),selector:'.b-lazy',errorClass:'b-error',successClass:'b-loaded'};return t.extend(i.blazySettings,i.ioSettings,e)},clearing:function(i){var e=this,a=t.closest(i,'.media'),n=t.closest(i,'['+r+']');t.clearLoading(i);e.reevaluate(i);e.updateContainer(i,a);if(n!==null||e.has(i,r)){t.animate(n!==null?n:i)};t.trigger(i,'blazy.done',{options:e.options});if(!u){t.trigger(e.context,'blazy.native',{options:e.options});u=!0}},isLoaded:function(t){return t!==null&&t.classList.contains(this.options.successClass)},reevaluate:function(i){var n=this,a=i.classList.contains('b-responsive')&&i.hasAttribute('data-pfsrc');if(n.init!==null&&t.hasClass(i,n.options.errorClass)&&!t.hasClass(i,'b-checked')){i.classList.add('b-checked');e.setTimeout(function(){if(n.has(i,o)){t.updateBg(i,n.options.mobileFirst)}
else{n.init.load(i)}},100)};if(e.picturefill&&a){e.picturefill({reevaluate:!0,elements:[i]})}},has:function(t,i){return t!==null&&t.hasAttribute(i)},contains:function(t,i){return t!==null&&t.classList.contains(i)},updateContainer:function(i,n){var a=this,s=t.equal(i.parentNode,'picture')&&a.has(n,l);e.setTimeout(function(){if(a.isLoaded(i)){(a.contains(n,'media')?n:i).classList.add('is-b-loaded');if(s){a.updatePicture(i,n)};if(a.has(i,o)){t.updateBg(i,a.options.mobileFirst)}}})},updatePicture:function(e,n){var s=this,o=Math.round(((e.naturalHeight/e.naturalWidth)*100),2);n.style.paddingBottom=o+'%';if(s.instances.length>0){var r=function(i){if(!('blazyInstance' in i)&&!('blazyUniform' in i)){return};if((i.blazyInstance===n.blazyInstance)&&(a>1||!('isBlazyPicture' in i))){t.trigger(i,'blazy.uniform.'+i.blazyInstance,{pad:o});i.isBlazyPicture=!0}};t.forEach(s.instances,function(t){i.debounce(r(t),201,!0)},s.context)}},fixMissingDataUri:function(){var i=this,e=i.context,n=i.options.selector+'[src^="image"]:not(.'+i.options.successClass+')',a=e.querySelector(n)===null?[]:e.querySelectorAll(n),s=function(t){var i=t.getAttribute('src');if(i.indexOf('base64')!==-1||i.indexOf('svg+xml')!==-1){t.setAttribute('src',i.replace('image','data:image'))}};if(a.length>0){t.forEach(a,s)}},updateRatio:function(i){var n=this,s=t.closest(i,'.blazy'),c=t.parse(i.getAttribute(l));if(!c){n.updateFallbackRatio(i);return};var e=i.querySelector('picture')!==null&&a>0,r=t.activeWidth(c,e);i.blazyInstance=s!==null&&'blazyInstance' in s?s.blazyInstance:null;if(r!=='undefined'){i.style.paddingBottom=r+'%'};if(a>0&&(e||n.has(i,o))){n.updateContainer((e?i.querySelector('img'):i),i)}},updateFallbackRatio:function(t){if(!t.hasAttribute('style')&&t.hasAttribute(c)){t.style.paddingBottom=t.getAttribute(c)+'%'}},doNativeLazy:function(){var i=this;if(!i.isNativeLazy()){return};var n=i.context,a=i.options.selector+'[loading]:not(.'+i.options.successClass+')';i.items=n.querySelector(a)===null?[]:n.querySelectorAll(a);if(i.items.length===0){return};var e=function(n){var a=n.target,s=n.type==='error';a.classList.add(i.options[s?'errorClass':'successClass']);i.clearing(a);t.unbindEvent(a,n.type,e)},s=function(n){t.setAttrs(n,['srcset','src'],!0);t.setAttrsWithSources(n,!1,!0);if(i.contains(n,'b-blur')){n.removeAttribute('loading')}
else{n.classList.add(i.options.successClass);t.bindEvent(n,'load',e);t.bindEvent(n,'error',e)}},o=function(){t.forEach(i.items,s)};t.bindEvent(i.context,'blazy.native',o,{once:!0})},isNativeLazy:function(){return'loading' in HTMLImageElement.prototype},isIo:function(){return this.ioSettings&&this.ioSettings.enabled&&'IntersectionObserver' in e},isRo:function(){return'ResizeObserver' in e},isBlazy:function(){return!this.isIo()&&'Blazy' in e},forEach:function(i){var e=i.querySelectorAll('.blazy:not(.blazy--on)');if(e.length>0){t.forEach(e,f,i)};d(i)},run:function(t){return this.isIo()?new BioMedia(t):new Blazy(t)},afterInit:function(){var n=this,s=n.context,o=!1,r=s.querySelector('.media--ratio')===null?[]:s.querySelectorAll('.media--ratio'),l=r.length>0,c=function(i){n.windowWidth=t.windowWidth();if(!n.isNativeLazy()&&(n.isBlazy()||n.revalidate)){n.init.revalidate(!0)};if(l){t.forEach(i,function(t){n.updateRatio('target' in t?t.target:t)},s)};a++;return!1},u=function(){return n.isRo()?new ResizeObserver(c):c(r)};o=u();if(o){if(l){t.forEach(r,function(t){o.observe(t)},s)}}
else{t.bindEvent(e,'resize',i.debounce(u,200,!0))}}};var d=function(e){var n=i.blazy,a=e instanceof HTMLDocument?e:t.closest(e,'html'),o={};o.mobileFirst=o.mobileFirst||!1;a=a||s;if(!s.documentElement.isSameNode(a)){o.root=a};n.options=t.extend({},n.globals(),o);n.context=a;var r='#drupal-modal, .is-b-scroll';if(n.options.container){r+=', '+n.options.container.trim()};n.options.container=r;n.fixMissingDataUri();n.doNativeLazy();n.init=n.run(n.options);n.afterInit()};function f(e){var n=i.blazy,a=e.getAttribute('data-blazy'),u=(!a||a==='1')?{}:(t.parse(a)||{});var s=n.contains(e,'blazy--field')||n.contains(e,'block-grid')||n.contains(e,'blazy--uniform'),o=(Math.random()*10000).toFixed(0),c='blazy.uniform.'+o,r=e.querySelector('.media--ratio')===null?[]:e.querySelectorAll('.media--ratio');n.options=t.extend(n.options,u);n.revalidate=n.revalidate||e.classList.contains('blazy--revalidate');e.classList.add('blazy--on');e.blazyInstance=o;if(s){e.blazyUniform=!0};n.instances.push(e);var l=function(i){var n=i.detail.pad||0;if(n>10){t.forEach(r,function(t){t.style.paddingBottom=n+'%'},e)}};if(s&&r.length>0){t.bindEvent(e,c,l)}};i.behaviors.blazy={attach:function(e){e=e||s;if('length' in e){e=e[0]};t.once(i.blazy.forEach(e))}}}(Drupal,drupalSettings,dBlazy,this,this.document));
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/modules/contrib/blazy/js/blazy.load.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.blood.ca/core/misc/autocomplete.js. */
(function(t,a){var e=void 0;function o(e){var i=[],r=!1,a='',c=e.length,o=void 0;for(var n=0;n<c;n++){o=e.charAt(n);if(o==='"'){a+=o;r=!r}
else if(o===','&&!r){i.push(a.trim());a=''}
else{a+=o}};if(e.length>0){i.push(t.trim(a))};return i};function n(t){return e.splitValues(t).pop()};function i(t){var o=e.options;if(o.isComposing){return!1};var a=e.extractLastTerm(t.target.value);if(a.length>0&&o.firstCharacterBlacklist.indexOf(a[0])!==-1){return!1};return a.length>=o.minLength};function r(a,o){var n=this.element.attr('id');if(!(n in e.cache)){e.cache[n]={}};function r(t){var r=e.splitValues(a.term),c=r.length;for(var n=0;n<c;n++){var i=t.indexOf(r[n]);if(i>=0){t.splice(i,1)}};o(t)};var i=e.extractLastTerm(a.term);function s(t){e.cache[n][i]=t;r(t)};if(e.cache[n].hasOwnProperty(i)){r(e.cache[n][i])}
else{var c=t.extend({success:s,data:{q:i}},e.ajax);t.ajax(this.element.attr('data-autocomplete-path'),c)}};function c(){return!1};function s(t,a){var o=e.splitValues(t.target.value);o.pop();o.push(a.item.value);t.target.value=o.join(', ');return!1};function u(e,a){return t('<li>').append(t('<a>').html(a.label)).appendTo(e)};a.behaviors.autocomplete={attach:function(a){var o=t(a).find('input.form-autocomplete').once('autocomplete');if(o.length){var n=o.attr('data-autocomplete-first-character-blacklist');t.extend(e.options,{firstCharacterBlacklist:n||''});o.autocomplete(e.options).each(function(){t(this).data('ui-autocomplete')._renderItem=e.options.renderItem});o.on('compositionstart.autocomplete',function(){e.options.isComposing=!0});o.on('compositionend.autocomplete',function(){e.options.isComposing=!1})}},detach:function(e,a,o){if(o==='unload'){t(e).find('input.form-autocomplete').removeOnce('autocomplete').autocomplete('destroy')}}};e={cache:{},splitValues:o,extractLastTerm:n,options:{source:r,focus:c,search:i,select:s,renderItem:u,minLength:1,firstCharacterBlacklist:'',isComposing:!1},ajax:{dataType:'json',jsonp:!1}};a.autocomplete=e})(jQuery,Drupal);
/* Source and licensing information for the above line(s) can be found at https://www.blood.ca/core/misc/autocomplete.js. */;
